<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TSC Pi Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
</head>
<body>
    <div id="test-container"></div>
    <button onclick="testSketch.generateNew()">Generate New</button>
    
    <script>
        let testSketch;
        
        function sketch(p) {
            p.setup = function() {
                p.createCanvas(300, 400);
                p.background(240);
                
                // Test basic drawing
                p.fill(0);
                p.stroke(255, 0, 0);
                p.strokeWeight(3);  // This should work
                p.rect(50, 50, 200, 300);
                
                p.fill(255);
                p.noStroke();
                p.ellipse(150, 200, 100);
                
                console.log('Basic test completed successfully');
            };
            
            p.draw = function() {
                p.noLoop();
            };
            
            p.generateNew = function() {
                p.background(p.random(255), p.random(255), p.random(255));
                p.fill(p.random(255));
                p.stroke(0);
                p.strokeWeight(2);
                p.ellipse(p.random(300), p.random(400), 50);
            };
        }
        
        testSketch = new p5(sketch, 'test-container');
    </script>
</body>
</html>